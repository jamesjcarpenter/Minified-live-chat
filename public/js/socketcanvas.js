"use strict";!function(){var e=io(),t=document.getElementsByClassName("whiteboard")[0],n=document.getElementsByClassName("color"),i=t.getContext("2d"),o={color:"black"},c=!1;t.addEventListener("mousedown",r,!1),t.addEventListener("mouseup",d,!1),t.addEventListener("mouseout",d,!1),t.addEventListener("mousemove",h(a,10),!1),t.addEventListener("touchstart",r,!1),t.addEventListener("touchend",d,!1),t.addEventListener("touchcancel",d,!1),t.addEventListener("touchmove",h(a,10),!1);for(var l=0;l<n.length;l++)n[l].addEventListener("click",u,!1);function s(n,o,c,l,s,r){if(i.beginPath(),i.moveTo(n,o),i.lineTo(c,l),i.strokeStyle=s,i.lineWidth=2,i.stroke(),i.closePath(),r){var d=t.width,a=t.height;e.emit("drawing",{x0:n/d,y0:o/a,x1:c/d,y1:l/a,color:s})}}function r(e){c=!0,o.x=e.clientX||e.touches[0].clientX,o.y=e.clientY||e.touches[0].clientY}function d(e){c&&(c=!1,s(o.x,o.y,e.clientX||e.touches[0].clientX,e.clientY||e.touches[0].clientY,o.color,!0))}function a(e){c&&(s(o.x,o.y,e.clientX||e.touches[0].clientX,e.clientY||e.touches[0].clientY,o.color,!0),o.x=e.clientX||e.touches[0].clientX,o.y=e.clientY||e.touches[0].clientY)}function u(e){o.color=e.target.className.split(" ")[1]}function h(e,t){var n=(new Date).getTime();return function(){var i=(new Date).getTime();i-n>=t&&(n=i,e.apply(null,arguments))}}function v(){t.width=window.innerWidth,t.height=window.innerHeight}e.on("drawing",function(e){var n=t.width,i=t.height;s(e.x0*n,e.y0*i,e.x1*n,e.y1*i,e.color)}),window.addEventListener("resize",v,!1),v()}();